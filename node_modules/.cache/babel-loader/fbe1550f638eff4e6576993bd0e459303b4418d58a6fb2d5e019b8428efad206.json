{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nexport default {\n  __name: 'list-test',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const people = ref([{\n      name: 'Leslie Alexander',\n      email: 'leslie.alexander@example.com',\n      comment: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',\n      imageUrl: 'https://images.unsplash.com/photo-1554151228-14d9def656e4?q=80&w=3386&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'\n    }, {\n      name: 'Dries Martens',\n      email: 'michael.foster@example.com',\n      imageUrl: 'https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n      comment: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.'\n    }, {\n      name: 'Dries Vincent',\n      email: 'dries.vincent@example.com',\n      comment: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',\n      imageUrl: 'https://images.unsplash.com/photo-1555952517-2e8e729e0b44?q=80&w=2364&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'\n    }, {\n      name: 'Lindsay Walton',\n      email: 'lindsay.walton@example.com',\n      comment: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',\n      imageUrl: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTZ8fGh1bWFufGVufDB8fDB8fHww'\n    }, {\n      name: 'Courtney Henry',\n      email: 'courtney.henry@example.com',\n      comment: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',\n      imageUrl: 'https://plus.unsplash.com/premium_photo-1682965699797-a2bd37f62b45?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTN8fGh1bWFufGVufDB8fDB8fHww'\n    }, {\n      name: 'Tom Cook',\n      email: 'tom.cook@example.com',\n      comment: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',\n      imageUrl: 'https://images.unsplash.com/photo-1542909168-82c3e7fdca5c?q=80&w=3280&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'\n    }]);\n    const newPerson = ref({\n      name: '',\n      email: '',\n      role: ''\n    });\n    const isEditing = ref(false);\n    let editingIndex = -1;\n    const userRole = ref('admin'); // Set the user role here\n\n    const isFormVisible = ref(false);\n    const toggleFormVisibility = () => {\n      isFormVisible.value = !isFormVisible.value;\n    };\n    const addPerson = () => {\n      // Add new person to the people array (visible only to admin and manager)\n      if (userRole.value === 'admin' || userRole.value === 'manager') {\n        people.value.push({\n          ...newPerson.value,\n          imageUrl: 'URL_TO_DEFAULT_IMAGE'\n        });\n        // Clear the form fields\n        clearForm();\n      }\n    };\n    const editPerson = person => {\n      // Edit functionality (visible only to admin and manager)\n      if (userRole.value === 'admin' || userRole.value === 'manager') {\n        newPerson.value = {\n          ...person\n        };\n        isEditing.value = true;\n        editingIndex = people.value.findIndex(p => p.email === person.email);\n        // Toggle form visibility when Edit button is clicked\n        toggleFormVisibility();\n      }\n    };\n    const updatePerson = () => {\n      // Update functionality (visible only to admin and manager)\n      if (userRole.value === 'admin' || userRole.value === 'manager') {\n        people.value[editingIndex] = {\n          ...newPerson.value,\n          imageUrl: 'URL_TO_DEFAULT_IMAGE'\n        };\n        clearForm();\n      }\n    };\n    const deletePerson = person => {\n      // Delete functionality (visible only to admin)\n      if (userRole.value === 'admin') {\n        const index = people.value.findIndex(p => p.email === person.email);\n        if (index !== -1) {\n          people.value.splice(index, 1);\n        }\n      }\n    };\n    const clearForm = () => {\n      newPerson.value = {\n        name: '',\n        email: '',\n        role: ''\n      };\n      isEditing.value = false;\n      editingIndex = -1;\n    };\n    const __returned__ = {\n      people,\n      newPerson,\n      isEditing,\n      get editingIndex() {\n        return editingIndex;\n      },\n      set editingIndex(v) {\n        editingIndex = v;\n      },\n      userRole,\n      isFormVisible,\n      toggleFormVisibility,\n      addPerson,\n      editPerson,\n      updatePerson,\n      deletePerson,\n      clearForm,\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","people","name","email","comment","imageUrl","newPerson","role","isEditing","editingIndex","userRole","isFormVisible","toggleFormVisibility","value","addPerson","push","clearForm","editPerson","person","findIndex","p","updatePerson","deletePerson","index","splice"],"sources":["/Users/gibson/Desktop/dev/keycloak-vue-app/src/pages/landingpage/list-test.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- Button to toggle the visibility of the form (visible only to admin and manager) -->\n    <button v-if=\"userRole === 'admin' || userRole === 'manager'\" @click=\"toggleFormVisibility\" class=\"text-blue-500 hover:underline focus:outline-none\">Add/Ed Form</button>\n\n    <!-- Form enclosed in a div with v-show directive -->\n    <div v-show=\"isFormVisible\">\n      <div v-if=\"userRole === 'admin' || userRole === 'manager'\" class=\"mx-auto mt-10 max-w-2xl\">\n        <form @submit.prevent=\"isEditing ? updatePerson() : addPerson\" class=\"divide-y divide-gray-100\">\n          <h2 class=\"mt-4 mb-6 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\">{{ isEditing ? 'Edit user' : 'Add new Employee' }}</h2>\n\n          <!-- Input fields with border and shadow -->\n          <input v-model=\"newPerson.name\" placeholder=\"Name\" required class=\"w-full p-2 border border-gray-300 shadow-md mb-4\" />\n          <input v-model=\"newPerson.email\" placeholder=\"Email\" required class=\"w-full p-2 border border-gray-300 shadow-md mb-4\" />\n          <input v-model=\"newPerson.comment\" placeholder=\"Comment\" required class=\"w-full p-2 border border-gray-300 shadow-md mb-4\" />\n\n          <!-- Button at the end of the form -->\n          <div class=\"flex justify-end\">\n            <button type=\"submit\" class=\"px-4 py-2 rounded-md bg-indigo-600 text-sm font-semibold text-white shadow-md hover:bg-indigo-500 focus:outline-none focus:ring focus:border-indigo-700\">\n              {{ isEditing ? 'Update Employee' : 'Add Employee' }}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n\n    <br />\n    <br />\n\n    <!-- List of people -->\n    <ul role=\"list\" class=\"divide-y divide-gray-100\">\n      <li v-for=\"person in people\" :key=\"person.email\" class=\"flex justify-between gap-x-6 py-5\">\n        <!-- Display person information -->\n        <div class=\"flex min-w-0 gap-x-4\">\n          <img class=\"h-12 w-12 flex-none rounded-full bg-gray-50\" :src=\"person.imageUrl\" alt=\"\" />\n          <div class=\"min-w-0 flex-auto\">\n            <p class=\"text-sm font-semibold leading-6 text-gray-900\">{{ person.name }}</p>\n            <p class=\"mt-1 truncate text-xs leading-5 text-gray-500\">{{ person.email }}</p>\n            <p class=\"mt-1 truncate text-xs leading-5 text-gray-500\">{{ person.comment }}</p>\n          </div>\n        </div>\n\n        <!-- Display role and CRUD actions -->\n        <div v-if=\"userRole === 'admin'\" class=\"hidden shrink-0 sm:flex sm:flex-col sm:items-end\">\n          <p class=\"text-sm leading-6 text-gray-900\">{{ person.role }}</p>\n          <div class=\"flex items-center gap-x-2\">\n            <button @click=\"editPerson(person)\" class=\"text-blue-500\">Edit</button>\n            <button @click=\"deletePerson(person)\" class=\"text-red-500\">Delete</button>\n          </div>\n        </div>\n      </li>\n    </ul>\n  </div>\n  </template>\n  \n  <script setup>\n  import { ref } from 'vue';\nconst people = ref([\n  {\n    name: 'Leslie Alexander',\n    email: 'leslie.alexander@example.com',\n    comment: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',\n    imageUrl:\n      'https://images.unsplash.com/photo-1554151228-14d9def656e4?q=80&w=3386&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\n  },\n  {\n    name: 'Dries Martens',\n    email: 'michael.foster@example.com',\n    imageUrl:\n      'https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n      comment: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',\n  },\n  {\n    name: 'Dries Vincent',\n    email: 'dries.vincent@example.com',\n    comment: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',\n    imageUrl:\n      'https://images.unsplash.com/photo-1555952517-2e8e729e0b44?q=80&w=2364&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\n  },\n  {\n    name: 'Lindsay Walton',\n    email: 'lindsay.walton@example.com',\n    comment: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',\n    imageUrl:\n      'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTZ8fGh1bWFufGVufDB8fDB8fHww',\n  },\n  {\n    name: 'Courtney Henry',\n    email: 'courtney.henry@example.com',\n    comment: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',\n    imageUrl:\n      'https://plus.unsplash.com/premium_photo-1682965699797-a2bd37f62b45?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTN8fGh1bWFufGVufDB8fDB8fHww',\n  },\n  {\n    name: 'Tom Cook',\n    email: 'tom.cook@example.com',\n    comment: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',\n    imageUrl:\n      'https://images.unsplash.com/photo-1542909168-82c3e7fdca5c?q=80&w=3280&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\n  },\n])\n  \nconst newPerson = ref({ name: '', email: '', role: '' });\nconst isEditing = ref(false);\nlet editingIndex = -1;\n\nconst userRole = ref('admin'); // Set the user role here\n\nconst isFormVisible = ref(false);\n\nconst toggleFormVisibility = () => {\n  isFormVisible.value = !isFormVisible.value;\n};\n\nconst addPerson = () => {\n  // Add new person to the people array (visible only to admin and manager)\n  if (userRole.value === 'admin' || userRole.value === 'manager') {\n    people.value.push({ ...newPerson.value, imageUrl: 'URL_TO_DEFAULT_IMAGE' });\n    // Clear the form fields\n    clearForm();\n  }\n};\n\nconst editPerson = (person) => {\n  // Edit functionality (visible only to admin and manager)\n  if (userRole.value === 'admin' || userRole.value === 'manager') {\n    newPerson.value = { ...person };\n    isEditing.value = true;\n    editingIndex = people.value.findIndex((p) => p.email === person.email);\n    // Toggle form visibility when Edit button is clicked\n    toggleFormVisibility();\n  }\n};\n\nconst updatePerson = () => {\n  // Update functionality (visible only to admin and manager)\n  if (userRole.value === 'admin' || userRole.value === 'manager') {\n    people.value[editingIndex] = { ...newPerson.value, imageUrl: 'URL_TO_DEFAULT_IMAGE' };\n    clearForm();\n  }\n};\n\nconst deletePerson = (person) => {\n  // Delete functionality (visible only to admin)\n  if (userRole.value === 'admin') {\n    const index = people.value.findIndex((p) => p.email === person.email);\n    if (index !== -1) {\n      people.value.splice(index, 1);\n    }\n  }\n};\n\nconst clearForm = () => {\n  newPerson.value = { name: '', email: '', role: '' };\n  isEditing.value = false;\n  editingIndex = -1;\n};\n\n  </script>\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
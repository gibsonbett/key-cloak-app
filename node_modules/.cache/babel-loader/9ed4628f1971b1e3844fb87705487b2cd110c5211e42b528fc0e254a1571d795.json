{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nexport default {\n  __name: 'list-test',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const people = ref([{\n      name: 'Leslie Alexander',\n      email: 'leslie.alexander@example.com',\n      gender: 'Female',\n      imageUrl: 'https://images.unsplash.com/photo-1554151228-14d9def656e4?q=80&w=3386&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\n      lastSeen: '3h ago',\n      lastSeenDateTime: '2023-01-23T13:23Z'\n    }, {\n      name: 'Dries Martens',\n      email: 'michael.foster@example.com',\n      imageUrl: 'https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n      gender: 'Male',\n      lastSeen: '3h ago',\n      lastSeenDateTime: '2023-01-23T13:23Z'\n    }, {\n      name: 'Dries Vincent',\n      email: 'dries.vincent@example.com',\n      gender: 'Male',\n      imageUrl: 'https://images.unsplash.com/photo-1555952517-2e8e729e0b44?q=80&w=2364&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\n      lastSeen: null\n    }, {\n      name: 'Lindsay Walton',\n      email: 'lindsay.walton@example.com',\n      age: '15',\n      imageUrl: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTZ8fGh1bWFufGVufDB8fDB8fHww',\n      lastSeen: '3h ago',\n      lastSeenDateTime: '2023-01-23T13:23Z'\n    }, {\n      name: 'Courtney Henry',\n      email: 'courtney.henry@example.com',\n      age: '15',\n      imageUrl: 'https://plus.unsplash.com/premium_photo-1682965699797-a2bd37f62b45?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTN8fGh1bWFufGVufDB8fDB8fHww'\n    }, {\n      name: 'Tom Cook',\n      email: 'tom.cook@example.com',\n      age: '16',\n      imageUrl: 'https://images.unsplash.com/photo-1542909168-82c3e7fdca5c?q=80&w=3280&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'\n    }]);\n    const newPerson = ref({\n      name: '',\n      email: '',\n      role: ''\n    });\n    const isEditing = ref(false);\n    let editingIndex = -1;\n    const userRole = ref('admin'); // Set the user role here\n\n    const addPerson = () => {\n      // Add new person to the people array (visible only to admin and manager)\n      if (userRole.value === 'admin' || userRole.value === 'manager') {\n        people.value.push({\n          ...newPerson.value,\n          imageUrl: 'URL_TO_DEFAULT_IMAGE'\n        });\n        // Clear the form fields\n        clearForm();\n      }\n    };\n    const editPerson = person => {\n      // Edit functionality (visible only to admin and manager)\n      if (userRole.value === 'admin' || userRole.value === 'manager') {\n        newPerson.value = {\n          ...person\n        };\n        isEditing.value = true;\n        editingIndex = people.value.findIndex(p => p.email === person.email);\n      }\n    };\n    const updatePerson = () => {\n      // Update functionality (visible only to admin and manager)\n      if (userRole.value === 'admin' || userRole.value === 'manager') {\n        people.value[editingIndex] = {\n          ...newPerson.value,\n          imageUrl: 'URL_TO_DEFAULT_IMAGE'\n        };\n        clearForm();\n      }\n    };\n    const deletePerson = person => {\n      // Delete functionality (visible only to admin)\n      if (userRole.value === 'admin') {\n        const index = people.value.findIndex(p => p.email === person.email);\n        if (index !== -1) {\n          people.value.splice(index, 1);\n        }\n      }\n    };\n    const clearForm = () => {\n      newPerson.value = {\n        name: '',\n        email: '',\n        role: ''\n      };\n      isEditing.value = false;\n      editingIndex = -1;\n    };\n    const __returned__ = {\n      people,\n      newPerson,\n      isEditing,\n      get editingIndex() {\n        return editingIndex;\n      },\n      set editingIndex(v) {\n        editingIndex = v;\n      },\n      userRole,\n      addPerson,\n      editPerson,\n      updatePerson,\n      deletePerson,\n      clearForm,\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","people","name","email","gender","imageUrl","lastSeen","lastSeenDateTime","age","newPerson","role","isEditing","editingIndex","userRole","addPerson","value","push","clearForm","editPerson","person","findIndex","p","updatePerson","deletePerson","index","splice"],"sources":["/Users/gibson/Desktop/dev/keycloak-vue-app/src/pages/landingpage/list-test.vue"],"sourcesContent":["<template>\n    <div>\n        <!-- Form for adding a new person -->\n        <div v-if=\"userRole === 'admin' || userRole === 'manager'\">\n            <form @submit.prevent=\"isEditing ? updatePerson() : addPerson\" class=\"divide-y divide-gray-100\">\n        <h2 class=\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\">{{ isEditing ? 'Edit user' : 'Add new student' }}</h2>\n        <input v-model=\"newPerson.name\" placeholder=\"Name\" required  />\n        <input v-model=\"newPerson.email\" placeholder=\"Email\" required />\n        <input v-model=\"newPerson.gender\" placeholder=\"Gender\" required />\n        <button type=\"submit\" class=\"flex w-30 justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\">{{ isEditing ? 'Update Student' : 'Add Student' }}</button>\n      </form>\n        </div>\n      <br/>\n        <br/>\n      <ul role=\"list\" class=\"divide-y divide-gray-100\">\n        <li v-for=\"person in people\" :key=\"person.email\" class=\"flex justify-between gap-x-6 py-5\">\n            \n          <!-- Display person information -->\n          <div class=\"flex min-w-0 gap-x-4\">\n            <img class=\"h-12 w-12 flex-none rounded-full bg-gray-50\" :src=\"person.imageUrl\" alt=\"\" />\n            <div class=\"min-w-0 flex-auto\">\n              <p class=\"text-sm font-semibold leading-6 text-gray-900\">{{ person.name }}</p>\n              <p class=\"mt-1 truncate text-xs leading-5 text-gray-500\">{{ person.email }}</p>\n              <p class=\"mt-1 truncate text-xs leading-5 text-gray-500\">{{ person.gender }}</p>\n            </div>\n          </div>\n          \n          <!-- Display role and CRUD actions -->\n          <div v-if=\"userRole === 'admin'\" class=\"hidden shrink-0 sm:flex sm:flex-col sm:items-end\">\n            <p class=\"text-sm leading-6 text-gray-900\">{{ person.role }}</p>\n            <div class=\"flex items-center gap-x-2\">\n              <button @click=\"editPerson(person)\" class=\"text-blue-500\">Edit</button>\n              <button @click=\"deletePerson(person)\" class=\"text-red-500\">Delete</button>\n            </div>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </template>\n  \n  <script setup>\n  import { ref } from 'vue';\nconst people = ref([\n  {\n    name: 'Leslie Alexander',\n    email: 'leslie.alexander@example.com',\n    gender: 'Female',\n    imageUrl:\n      'https://images.unsplash.com/photo-1554151228-14d9def656e4?q=80&w=3386&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\n    lastSeen: '3h ago',\n    lastSeenDateTime: '2023-01-23T13:23Z',\n  },\n  {\n    name: 'Dries Martens',\n    email: 'michael.foster@example.com',\n    imageUrl:\n      'https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80',\n      gender: 'Male',\n      lastSeen: '3h ago',\n    lastSeenDateTime: '2023-01-23T13:23Z',\n  },\n  {\n    name: 'Dries Vincent',\n    email: 'dries.vincent@example.com',\n    gender: 'Male',\n    imageUrl:\n      'https://images.unsplash.com/photo-1555952517-2e8e729e0b44?q=80&w=2364&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\n    lastSeen: null,\n  },\n  {\n    name: 'Lindsay Walton',\n    email: 'lindsay.walton@example.com',\n    age: '15',\n    imageUrl:\n      'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTZ8fGh1bWFufGVufDB8fDB8fHww',\n    lastSeen: '3h ago',\n    lastSeenDateTime: '2023-01-23T13:23Z',\n  },\n  {\n    name: 'Courtney Henry',\n    email: 'courtney.henry@example.com',\n    age: '15',\n    imageUrl:\n      'https://plus.unsplash.com/premium_photo-1682965699797-a2bd37f62b45?w=800&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTN8fGh1bWFufGVufDB8fDB8fHww',\n  },\n  {\n    name: 'Tom Cook',\n    email: 'tom.cook@example.com',\n    age: '16',\n    imageUrl:\n      'https://images.unsplash.com/photo-1542909168-82c3e7fdca5c?q=80&w=3280&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\n  },\n])\n  \nconst newPerson = ref({ name: '', email: '', role: '' });\nconst isEditing = ref(false);\nlet editingIndex = -1;\n\nconst userRole = ref('admin'); // Set the user role here\n\nconst addPerson = () => {\n  // Add new person to the people array (visible only to admin and manager)\n  if (userRole.value === 'admin' || userRole.value === 'manager') {\n    people.value.push({ ...newPerson.value, imageUrl: 'URL_TO_DEFAULT_IMAGE' });\n    // Clear the form fields\n    clearForm();\n  }\n};\n\nconst editPerson = (person) => {\n  // Edit functionality (visible only to admin and manager)\n  if (userRole.value === 'admin' || userRole.value === 'manager') {\n    newPerson.value = { ...person };\n    isEditing.value = true;\n    editingIndex = people.value.findIndex((p) => p.email === person.email);\n  }\n};\n\nconst updatePerson = () => {\n  // Update functionality (visible only to admin and manager)\n  if (userRole.value === 'admin' || userRole.value === 'manager') {\n    people.value[editingIndex] = { ...newPerson.value, imageUrl: 'URL_TO_DEFAULT_IMAGE' };\n    clearForm();\n  }\n};\n\nconst deletePerson = (person) => {\n  // Delete functionality (visible only to admin)\n  if (userRole.value === 'admin') {\n    const index = people.value.findIndex((p) => p.email === person.email);\n    if (index !== -1) {\n      people.value.splice(index, 1);\n    }\n  }\n};\n\nconst clearForm = () => {\n  newPerson.value = { name: '', email: '', role: '' };\n  isEditing.value = false;\n  editingIndex = -1;\n};\n  </script>\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}